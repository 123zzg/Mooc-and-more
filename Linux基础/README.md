#   Linux 基本操作

>	与慕课网[Linux 基础](https://class.imooc.com/sc/31/series)搭配使用效果更佳。

<!-- TOC -->

- [Linux 目录结构以及操作命令](#linux-目录结构以及操作命令)
    - [1.  Linux 命令格式](#1--linux-命令格式)
    - [2.  Linux 目录结构](#2--linux-目录结构)
    - [3.  目录管理命令](#3--目录管理命令)
    - [4.  文件操作命令](#4--文件操作命令)
    - [5.  目录及文件管理命令](#5--目录及文件管理命令)
- [Linux 下用户管理以及群组管理](#linux-下用户管理以及群组管理)
    - [1.  用户管理](#1--用户管理)
    - [2.  群组管理](#2--群组管理)
- [Linux 下权限与角色](#linux-下权限与角色)
    - [1.  权限、角色的作用](#1--权限角色的作用)
    - [2.  权限、角色的设置](#2--权限角色的设置)
- [Linux 压缩和解压缩](#linux-压缩和解压缩)
    - [1.  常见压缩类型](#1--常见压缩类型)
    - [2.  命令](#2--命令)
- [Linux 下软件的安装与卸载](#linux-下软件的安装与卸载)
    - [1.  源码包安装](#1--源码包安装)
    - [2.  rpm 包安装](#2--rpm-包安装)
    - [yum 安装管理 rpm 包](#yum-安装管理-rpm-包)

<!-- /TOC -->


##  Linux 目录结构以及操作命令

### 1.  Linux 命令格式

|命令|[选项]|[参数1]|[参数2]|
|:--:|:--:|:--:|:--:|

选项和参数是可选的,例如：

*   关机/重启命令

关机 `shutdown -h now`

重启 `shutdown -r now` 或 `reboot`

其他相关命令 `halt` / `poweroff` / `init`

### 2.  Linux 目录结构

*   查看根目录指令 `ls -l /`

![TIM截图20180810205522.png](https://i.loli.net/2018/08/10/5b6d8b6dd6e83.png)


与 Windows 系统不同的是，Linux 是以根目录为节点有多个目录，而 Windows 分为多个磁盘。

还有 Linux 是以正斜线 "/" 作目录的区分，Windows 是以反斜线 "\" 作目录的区分。

*   **/bin：**命令存放目录（普通用户和超级 root 用户）
*   **/boot：**启动目录（启动 Linux 就是利用 boot 目录来启动的）
*   /dev：设备文件存放目录
*   **/etc：**配置文件存放目录
*   /lib：函数库存放目录（指令用到的函数）
*   **/home：**普通用户家目录
*   /mnt：系统挂载目录（U盘等内容的挂载）
*   /media：媒体设备挂载目录（媒体设备挂载）
*   /opt：第三方软件放置目录
*   /root：超级用户家目录
*   /tmp：临时目录
*   /sbin：命令存放目录（超级用户）
*   /proc：放置数据到内存
*   /srv：服务存放数据目录
*   **/usr：**系统软件资源目录
*   **/var：**系统相关文档内容目录

### 3.  目录管理命令

*   目录查看：ls [-al] [文件或目录名称]
*   目录切换：cd [目录名称]
*   显示当前目录：pwd
*   绝对路径：从根目录 "/" 开始写起
*   相对路径

|当前目录|.|
|:--:|:--:|
|上级目录|..|
|家目录|~|

*   目录创建：mkdir [-p] 目录名称
*   目录删除：rmdir [-p] 目录名称

### 4.  文件操作命令

*   创建文件：touch 文件名
*   文件查看：cat/more/less/head/tail/...
*   vi/vim 编辑器

![TIM截图20180810213716.png](https://i.loli.net/2018/08/10/5b6d9517ba04c.png)

命令模式
|h|左|
|:--:|:--:|
|j|下|
|k|上|
|l|右|
|a|在光标后插入|
|A|在当前行末插入|
|i|在光标前插入|
|I|在当前行首插入|
|o|在当前行之下插入|
|O|在上一行插入|
|dd|剪切当前行|
|p|在下一行粘贴|
|P|在上一行粘贴|
|yy|复制|

最末行模式

|:|切换到最末行模式|
|:--:|:--:|
|w|保存|
|wq|保存并退出|
|q!|不保存退出|
|set nu|显示行号|


### 5.  目录及文件管理命令

*   复制：cp [-r] 来源文件 目标文件
*   移动：mv 来源文件 目标文件
*   删除：rm [-rf] 文件或目录
*   查找命令：which 命令名
*   特定目录查找：whereis 文件或目录
*   查找：find 目录 [-name/user/size] 参数

##  Linux 下用户管理以及群组管理

### 1.  用户管理

*   查看用户：who
*   创建用户：useradd [-g 群组] 用户名
*   设置密码：passwd 用户名 
*   删除用户：userdel [-r] 用户名 （-r 删除家目录）

### 2.  群组管理

*   查看群组：groups [用户名]
*   创建群组：groupadd 群组名
*   删除群组：groupdel 群组名
*   用户群组修改：usermod [-g 群组名] 用户名

##  Linux 下权限与角色

### 1.  权限、角色的作用

![TIM截图20180811084203.png](https://i.loli.net/2018/08/11/5b6e313510878.png)

![TIM截图20180811084504.png](https://i.loli.net/2018/08/11/5b6e3198df552.png)

### 2.  权限、角色的设置

*   修改所有者：chown [-R] 用户名 文件或目录
*   修改所有者和组：chown [-R] 用户名:组名 文件或目录
*   修改所属组：chgrp [-R] 组名 文件或目录
*   权限修改：chmod [-R] xyz 文件或目录
> *  x 所有者权限&emsp;y 所属组权限&emsp;z 其他用户权限
r:4&emsp;w:2&emsp;x:1&emsp;rwx 数字总和即权限
> *  x 角色：u g o a 分别代表所有者、所属组、其他用户、所有角色
y 设置：+ - = 分别代表增加、减少、设置
z 权限：r w x

##  Linux 压缩和解压缩

### 1.  常见压缩类型

![TIM截图20180811102022.png](https://i.loli.net/2018/08/11/5b6e4a4b9db48.png)

### 2.  命令

*   tar [-ctxzjJvf] 压缩文件 [源文件]
*   c 打包压缩，t 查看内容，x 解打包解压缩
*   z 使用 gzip 方式，j 使用 bzip2 方式，J 使用 xz 方式
*   v 显示过程，f 指定压缩包名


##  Linux 下软件的安装与卸载

### 1.  源码包安装

*   下载源码包（curl、wget）
*   解压（tar）
*   进入到该目录（cd）
*   编译前配置（./configure）
*   编译（make）
*   编译安装（make install）
*   注意编译安装时候软件包依赖解决
*   删除 （make clean 然后直接删除目录）

### 2.  rpm 包安装

*   下载 rpm 安装包
*   rpm -ivh 软件包
*   -i 安装&emsp;-v 显示详细信息&emsp;-h 显示进度
*   查询是否安装 rpm -q 安装包
*   查询包信息 rpm -qi 安装包
*   查询安装位置 rpm -ql 安装包
*   卸载 rpm -e 安装包

### yum 安装管理 rpm 包

*   查询可以安装的软件包 yum list 名称
*   安装 yum [-y] install 软件包
*   -y 自动回答 yes
*   更新 yum [-y] update 软件包
*   卸载 yum [-y] remove 软件包
*   yum 安装软件包来自 yum 源


